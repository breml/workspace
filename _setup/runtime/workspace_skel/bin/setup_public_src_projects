#!/usr/bin/env bash
SCRIPT_DIR=$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )
WORKSPACE_DIR=$( cd "$SCRIPT_DIR" && cd .. && pwd )

echo "#################################################################################"
echo "Fetching and setting up public src repos under ~/src (will take a few minutes...)"
echo "#################################################################################"

echo "Fetching logsearch-boshrelease"
echo "------------------------------"
git clone --recursive git@github.com:logsearch/logsearch-boshrelease.git $WORKSPACE_DIR/src/logsearch-boshrelease

echo "Fetching logsearch documentation"
echo "--------------------------------"
git clone --recursive git@github.com:logsearch/docs.git $WORKSPACE_DIR/src/docs

echo "Fetching logsearch-website"
echo "--------------------------"
git clone git@github.com:logsearch/logsearch-website.git $WORKSPACE_DIR/src/logsearch-website
echo "Installing logsearch-website dependancies"
(
	cd $WORKSPACE_DIR/src/logsearch-website
	_build/install_dependancies.sh 
)

echo "Fetching logsearch-filters-cf"
echo "--------------------------"
git clone --recursive git@github.com:logsearch/logsearch-filters-cf.git $WORKSPACE_DIR/src/logsearch-filters-cf
echo "Installing logsearch-filters-cf dependancies"
(
	cd $WORKSPACE_DIR/src/logsearch-filters-cf
	bin/install_deps.sh 
)

# echo "Fetching kibana4"
# echo "-----------------"
# git clone --recursive git@github.com:elasticsearch/kibana.git $WORKSPACE_DIR/src/kibana
# git clone --recursive git@github.com:logsearch/kibana-status-diagram-plugin.git $WORKSPACE_DIR/src/kibana-status-diagram-plugin

