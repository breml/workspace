#!/usr/bin/env bash

PORT="1${TENANT_NUMBER}000"

#
# system: cloud9 IDE
#
if [ ! -d ~/bin/cloud9-editor ] ; then
  echo "Installing Cloud9 IDE v2.0.93..."
  mkdir -p ~/bin/cloud9-editor
  curl -sL https://github.com/ajaxorg/cloud9/tarball/v2.0.93 \
  	| tar zxv -C ~/bin/cloud9-editor --strip 1 

  (
    cd ~/bin/cloud9-editor
    npm install
  )
fi

echo "==================================================="
echo "Launching Cloud9 IDE at http://$LOCAL_IP:$PORT"
echo "==================================================="
~/bin/cloud9-editor/bin/cloud9.sh -l 0.0.0.0 -w ~/ -p $PORT